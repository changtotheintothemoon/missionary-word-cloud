
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéµ Christian English Flashcards for Japanese Learners</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #666;
            font-size: 1.1em;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-primary:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: #764ba2;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #6a4190;
            transform: translateY(-2px);
        }
        
        .btn-success {
            background: #4CAF50;
            color: white;
        }
        
        .btn-success:hover {
            background: #45a049;
            transform: translateY(-2px);
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #f0f0f0;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            transition: width 0.3s ease;
            border-radius: 10px;
        }
        
        .flashcard-container {
            perspective: 1000px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .flashcard {
            width: 100%;
            height: 400px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            cursor: pointer;
        }
        
        .flashcard.flipped {
            transform: rotateY(180deg);
        }
        
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px;
            text-align: center;
        }
        
        .card-front {
            background: white;
            color: #333;
        }
        
        .card-back {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            transform: rotateY(180deg);
        }
        
        .english-word {
            font-size: 3em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .pronunciation {
            font-size: 1.3em;
            color: #666;
            margin-bottom: 20px;
            font-style: italic;
        }
        
        .frequency {
            background: #f0f0f0;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            color: #666;
        }
        
        .japanese-word {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .romaji {
            font-size: 1.5em;
            margin-bottom: 15px;
            opacity: 0.9;
        }
        
        .hiragana-katakana {
            font-size: 1.2em;
            margin-bottom: 10px;
            opacity: 0.8;
            font-style: italic;
            color: #E8F5E8;
        }
        
        .pronunciation-guide {
            font-size: 1.1em;
            margin-bottom: 15px;
            opacity: 0.7;
            font-family: monospace;
            background: rgba(255,255,255,0.1);
            padding: 5px 10px;
            border-radius: 10px;
        }
        
        .meaning {
            font-size: 1.8em;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .example {
            font-size: 1.1em;
            opacity: 0.9;
            max-width: 400px;
            line-height: 1.4;
        }
        
        .card-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 600px;
            margin: 30px auto;
        }
        
        .card-counter {
            background: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            color: #667eea;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .difficulty-filter {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 8px 16px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .filter-btn.active {
            background: #667eea;
            color: white;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
        }
        
        .achievements {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .achievement {
            padding: 8px 16px;
            background: #FFD700;
            color: #333;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }
        
        .audio-btn {
            background: #FF6B6B;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            margin-top: 15px;
            transition: all 0.3s ease;
        }
        
        .audio-btn:hover {
            background: #FF5252;
            transform: translateY(-2px);
        }
        
        .category-tag {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #764ba2;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .flip-hint {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: #999;
            font-size: 0.9em;
            opacity: 0.7;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .english-word {
                font-size: 2.5em;
            }
            
            .japanese-word {
                font-size: 2em;
            }
            
            .stats {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéµ Christian English Flashcards</h1>
            <p>Êó•Êú¨‰∫∫Â≠¶ÁøíËÄÖÂêë„Åë„ÅÆËã±Ë™û„Éï„É©„ÉÉ„Ç∑„É•„Ç´„Éº„Éâ - Learn English vocabulary from Christian songs</p>
        </div>
        
        <div class="stats">
            <div class="stat">
                <div class="stat-number" id="totalCards">0</div>
                <div class="stat-label">Total Cards / Á∑è„Ç´„Éº„ÉâÊï∞</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="currentCard">1</div>
                <div class="stat-label">Current Card / ÁèæÂú®„ÅÆ„Ç´„Éº„Éâ</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="studiedCards">0</div>
                <div class="stat-label">Studied / Â≠¶ÁøíÊ∏à„Åø</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="masteredCards">0</div>
                <div class="stat-label">Mastered / ÁøíÂæóÊ∏à„Åø</div>
            </div>
        </div>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        
        <div class="difficulty-filter">
            <button class="filter-btn active" onclick="filterByDifficulty('all')">All / „Åô„Åπ„Å¶</button>
            <button class="filter-btn" onclick="filterByDifficulty('beginner')">Beginner / ÂàùÁ¥ö</button>
            <button class="filter-btn" onclick="filterByDifficulty('intermediate')">Intermediate / ‰∏≠Á¥ö</button>
            <button class="filter-btn" onclick="filterByDifficulty('advanced')">Advanced / ‰∏äÁ¥ö</button>
        </div>
        
        <div class="controls">
            <button class="btn btn-primary" onclick="previousCard()">‚Üê Previous / Ââç„Å∏</button>
            <button class="btn btn-secondary" onclick="flipCard()">Flip Card / „Ç´„Éº„Éâ„ÇíÂõûËª¢</button>
            <button class="btn btn-primary" onclick="nextCard()">Next / Ê¨°„Å∏ ‚Üí</button>
        </div>
        
        <div class="flashcard-container">
            <div class="flashcard" id="flashcard" onclick="flipCard()">
                <div class="card-face card-front">
                    <div class="category-tag" id="categoryTag">Faith</div>
                    <div class="english-word" id="englishWord">Loading...</div>
                    <div class="pronunciation" id="pronunciation">[Loading...]</div>
                    <div class="frequency" id="frequency">Appears in songs: 0 times</div>
                    <button class="audio-btn" onclick="playAudio(event)">üîä Listen / Èü≥Â£∞</button>
                    <div class="flip-hint">Click to flip / „ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶ÂõûËª¢</div>
                </div>
                <div class="card-face card-back">
                    <div class="japanese-word" id="japaneseWord">Ë™≠„ÅøËæº„Åø‰∏≠...</div>
                    <div class="romaji" id="romaji">Loading...</div>
                    <div class="hiragana-katakana" id="hiraganaKatakana">Loading...</div>
                    <div class="pronunciation-guide" id="pronunciationGuide">[Loading...]</div>
                    <div class="meaning" id="meaning">Loading...</div>
                    <div class="example" id="example">Loading example...</div>
                    <button class="audio-btn" onclick="playAudio(event)">üîä Listen / Èü≥Â£∞</button>
                </div>
            </div>
        </div>
        
        <div class="card-navigation">
            <button class="btn btn-success" onclick="markAsKnown()">‚úì I Know This / Áü•„Å£„Å¶„ÅÑ„Çã</button>
            <div class="card-counter">
                <span id="cardPosition">1</span> / <span id="totalCount">0</span>
            </div>
            <button class="btn btn-secondary" onclick="markForReview()">üìö Review Later / Âæå„ÅßÂæ©Áøí</button>
        </div>
        
        <div class="controls">
            <button class="btn btn-primary" onclick="shuffle()">üîÄ Shuffle / „Ç∑„É£„ÉÉ„Éï„É´</button>
            <button class="btn btn-secondary" onclick="resetProgress()">üîÑ Reset / „É™„Çª„ÉÉ„Éà</button>
            <button class="btn btn-success" onclick="exportProgress()">üíæ Export Progress / ÈÄ≤Êçó„Ç®„ÇØ„Çπ„Éù„Éº„Éà</button>
        </div>
        
        <div class="achievements" id="achievements">
            <!-- Achievements will be added here -->
        </div>
    </div>
    
    <script>
        // Flashcard data
        const flashcards = [
  {
    "english": "jesus",
    "japanese": "„Ç§„Ç®„Çπ",
    "category": "faith",
    "lesson_level": "beginner_lesson",
    "frequency_in_songs": 15,
    "importance_score": 10,
    "example_usage": "This word appears 15 times in the songs",
    "romaji": "iesu",
    "hiragana": "",
    "katakana": "„Ç§„Ç®„Çπ",
    "pronunciation": "EE-eh-soo",
    "meaning": "„Ç§„Ç®„Çπ",
    "example": "Jesus loves you - „Ç§„Ç®„Çπ„ÅØ„ÅÇ„Å™„Åü„ÇíÊÑõ„Åó„Å¶„ÅÑ„Åæ„Åô",
    "difficulty": "beginner"
  },
  {
    "english": "god",
    "japanese": "„Åã„Åø",
    "category": "faith",
    "lesson_level": "beginner_lesson",
    "frequency_in_songs": 11,
    "importance_score": 10,
    "example_usage": "This word appears 11 times in the songs",
    "romaji": "kami",
    "hiragana": "„Åã„Åø",
    "katakana": "",
    "pronunciation": "KAH-mee",
    "meaning": "Á•û",
    "example": "God is powerful - Á•û„ÅØÂäõÂº∑„ÅÑ„Åß„Åô",
    "difficulty": "beginner"
  },
  {
    "english": "love",
    "japanese": "„ÅÇ„ÅÑ",
    "category": "emotions",
    "lesson_level": "beginner_lesson",
    "frequency_in_songs": 4,
    "importance_score": 9,
    "example_usage": "This word appears 4 times in the songs",
    "romaji": "ai",
    "hiragana": "„ÅÇ„ÅÑ",
    "katakana": "",
    "pronunciation": "AH-ee",
    "meaning": "ÊÑõ",
    "example": "Love is important - ÊÑõ„ÅØÂ§ßÂàá„Åß„Åô",
    "difficulty": "beginner"
  },
  {
    "english": "fear",
    "japanese": "„Åì„Çè„ÅÑ",
    "category": "emotions",
    "lesson_level": "beginner_lesson",
    "frequency_in_songs": 4,
    "importance_score": 4,
    "example_usage": "This word appears 4 times in the songs",
    "romaji": "kowai",
    "hiragana": "„Åì„Çè„ÅÑ",
    "katakana": "",
    "pronunciation": "KOH-wah-ee",
    "meaning": "ÊÄñ„ÅÑ",
    "example": "Do not fear - ÊÅê„Çå„Å¶„ÅØ„ÅÑ„Åë„Åæ„Åõ„Çì",
    "difficulty": "beginner"
  },
  {
    "english": "way",
    "japanese": "„Åø„Å°",
    "category": "concepts",
    "lesson_level": "beginner_lesson",
    "frequency_in_songs": 2,
    "importance_score": 6,
    "example_usage": "This word appears 2 times in the songs",
    "romaji": "michi",
    "hiragana": "„Åø„Å°",
    "katakana": "",
    "pronunciation": "MEE-chee",
    "meaning": "ÈÅì",
    "example": "Jesus is the way - „Ç§„Ç®„Çπ„ÅØÈÅì„Åß„Åô",
    "difficulty": "beginner"
  },
  {
    "english": "home",
    "japanese": "[home]",
    "category": "general",
    "lesson_level": "beginner_lesson",
    "frequency_in_songs": 1,
    "importance_score": 5,
    "example_usage": "This word appears 1 times in the songs",
    "romaji": "home",
    "hiragana": "",
    "katakana": "",
    "pronunciation": "[HOME]",
    "meaning": "[home]",
    "example": "Example with home",
    "difficulty": "beginner"
  },
  {
    "english": "trust",
    "japanese": "„Åó„Çì„Çâ„ÅÑ",
    "category": "faith",
    "lesson_level": "intermediate_lesson",
    "frequency_in_songs": 16,
    "importance_score": 9,
    "example_usage": "This word appears 16 times in the songs",
    "romaji": "shinrai",
    "hiragana": "„Åó„Çì„Çâ„ÅÑ",
    "katakana": "",
    "pronunciation": "SHEEN-rah-ee",
    "meaning": "‰ø°È†º",
    "example": "I trust in God - ÁßÅ„ÅØÁ•û„Çí‰ø°È†º„Åó„Åæ„Åô",
    "difficulty": "intermediate"
  },
  {
    "english": "power",
    "japanese": "„Å°„Åã„Çâ",
    "category": "attributes",
    "lesson_level": "intermediate_lesson",
    "frequency_in_songs": 5,
    "importance_score": 7,
    "example_usage": "This word appears 5 times in the songs",
    "romaji": "chikara",
    "hiragana": "„Å°„Åã„Çâ",
    "katakana": "",
    "pronunciation": "CHEE-kah-rah",
    "meaning": "Âäõ",
    "example": "God has power - Á•û„Å´„ÅØÂäõ„Åå„ÅÇ„Çä„Åæ„Åô",
    "difficulty": "intermediate"
  },
  {
    "english": "powerful",
    "japanese": "„Å§„Çà„ÅÑ",
    "category": "attributes",
    "lesson_level": "intermediate_lesson",
    "frequency_in_songs": 4,
    "importance_score": 6,
    "example_usage": "This word appears 4 times in the songs",
    "romaji": "tsuyoi",
    "hiragana": "„Å§„Çà„ÅÑ",
    "katakana": "",
    "pronunciation": "TSOO-yoh-ee",
    "meaning": "Âº∑„ÅÑ",
    "example": "God is powerful - Á•û„ÅØÂº∑„ÅÑ„Åß„Åô",
    "difficulty": "intermediate"
  },
  {
    "english": "hope",
    "japanese": "„Åç„Åº„ÅÜ",
    "category": "emotions",
    "lesson_level": "intermediate_lesson",
    "frequency_in_songs": 2,
    "importance_score": 8,
    "example_usage": "This word appears 2 times in the songs",
    "romaji": "kibou",
    "hiragana": "„Åç„Åº„ÅÜ",
    "katakana": "",
    "pronunciation": "KEE-boh",
    "meaning": "Â∏åÊúõ",
    "example": "I have hope - ÁßÅ„Å´„ÅØÂ∏åÊúõ„Åå„ÅÇ„Çä„Åæ„Åô",
    "difficulty": "intermediate"
  },
  {
    "english": "smile",
    "japanese": "„Åª„Åª„Åà„Åø",
    "category": "actions",
    "lesson_level": "intermediate_lesson",
    "frequency_in_songs": 2,
    "importance_score": 6,
    "example_usage": "This word appears 2 times in the songs",
    "romaji": "hohoemi",
    "hiragana": "„Åª„Åª„Åà„Åø",
    "katakana": "",
    "pronunciation": "HOH-hoh-eh-mee",
    "meaning": "ÂæÆÁ¨ë„Åø",
    "example": "Please smile - Á¨ëÈ°î„Çí„Åè„Å†„Åï„ÅÑ",
    "difficulty": "intermediate"
  },
  {
    "english": "life",
    "japanese": "„ÅÑ„ÅÆ„Å°",
    "category": "concepts",
    "lesson_level": "intermediate_lesson",
    "frequency_in_songs": 1,
    "importance_score": 7,
    "example_usage": "This word appears 1 times in the songs",
    "romaji": "inochi",
    "hiragana": "„ÅÑ„ÅÆ„Å°",
    "katakana": "",
    "pronunciation": "EE-noh-chee",
    "meaning": "ÂëΩ",
    "example": "Life is precious - ÂëΩ„ÅØË≤¥Èáç„Åß„Åô",
    "difficulty": "intermediate"
  },
  {
    "english": "great",
    "japanese": "[great]",
    "category": "general",
    "lesson_level": "intermediate_lesson",
    "frequency_in_songs": 1,
    "importance_score": 5,
    "example_usage": "This word appears 1 times in the songs",
    "romaji": "great",
    "hiragana": "",
    "katakana": "",
    "pronunciation": "[GREAT]",
    "meaning": "[great]",
    "example": "Example with great",
    "difficulty": "beginner"
  },
  {
    "english": "journey",
    "japanese": "[journey]",
    "category": "general",
    "lesson_level": "intermediate_lesson",
    "frequency_in_songs": 1,
    "importance_score": 5,
    "example_usage": "This word appears 1 times in the songs",
    "romaji": "journey",
    "hiragana": "",
    "katakana": "",
    "pronunciation": "[JOURNEY]",
    "meaning": "[journey]",
    "example": "Example with journey",
    "difficulty": "beginner"
  },
  {
    "english": "overcome",
    "japanese": "[overcome]",
    "category": "general",
    "lesson_level": "advanced_lesson",
    "frequency_in_songs": 1,
    "importance_score": 6,
    "example_usage": "This word appears 1 times in the songs",
    "romaji": "overcome",
    "hiragana": "",
    "katakana": "",
    "pronunciation": "[OVERCOME]",
    "meaning": "[overcome]",
    "example": "Example with overcome",
    "difficulty": "beginner"
  },
  {
    "english": "forever",
    "japanese": "[forever]",
    "category": "general",
    "lesson_level": "advanced_lesson",
    "frequency_in_songs": 1,
    "importance_score": 6,
    "example_usage": "This word appears 1 times in the songs",
    "romaji": "forever",
    "hiragana": "",
    "katakana": "",
    "pronunciation": "[FOREVER]",
    "meaning": "[forever]",
    "example": "Example with forever",
    "difficulty": "beginner"
  }
];
        
        // App state
        let currentIndex = 0;
        let filteredCards = flashcards;
        let isFlipped = false;
        let studiedCards = new Set();
        let masteredCards = new Set();
        let reviewCards = new Set();
        
        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            loadProgress();
            updateStats();
            displayCard();
        });
        
        // Display current card
        function displayCard() {
            if (filteredCards.length === 0) return;
            
            const card = filteredCards[currentIndex];
            const flashcardElement = document.getElementById('flashcard');
            
            // Update front of card
            document.getElementById('englishWord').textContent = card.english.toUpperCase();
            document.getElementById('pronunciation').textContent = '[' + card.pronunciation + ']';
            document.getElementById('frequency').textContent = `Appears in songs: ${card.frequency_in_songs} times`;
            document.getElementById('categoryTag').textContent = card.category || 'General';
            
            // Update back of card
            document.getElementById('japaneseWord').textContent = card.japanese;
            document.getElementById('romaji').textContent = card.romaji;
            
            // Update hiragana/katakana pronunciation
            const hiraganaKatakana = card.hiragana || card.katakana || '';
            const pronunciationText = hiraganaKatakana ? 
                `${hiraganaKatakana} (pronunciation: ${card.pronunciation})` : 
                `Pronunciation: ${card.pronunciation}`;
            document.getElementById('hiraganaKatakana').textContent = hiraganaKatakana;
            document.getElementById('pronunciationGuide').textContent = pronunciationText;
            
            document.getElementById('meaning').textContent = card.meaning;
            document.getElementById('example').textContent = card.example;
            
            // Update card counter
            document.getElementById('cardPosition').textContent = currentIndex + 1;
            document.getElementById('totalCount').textContent = filteredCards.length;
            
            // Reset flip state
            flashcardElement.classList.remove('flipped');
            isFlipped = false;
            
            updateStats();
        }
        
        // Flip card
        function flipCard() {
            const flashcardElement = document.getElementById('flashcard');
            flashcardElement.classList.toggle('flipped');
            isFlipped = !isFlipped;
            
            // Mark as studied when flipped
            if (isFlipped) {
                studiedCards.add(filteredCards[currentIndex].english);
                saveProgress();
                updateStats();
            }
        }
        
        // Navigation functions
        function nextCard() {
            currentIndex = (currentIndex + 1) % filteredCards.length;
            displayCard();
        }
        
        function previousCard() {
            currentIndex = (currentIndex - 1 + filteredCards.length) % filteredCards.length;
            displayCard();
        }
        
        // Filter by difficulty
        function filterByDifficulty(difficulty) {
            // Update active filter button
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Filter cards
            if (difficulty === 'all') {
                filteredCards = flashcards;
            } else {
                filteredCards = flashcards.filter(card => card.difficulty === difficulty);
            }
            
            currentIndex = 0;
            displayCard();
        }
        
        // Mark card as known
        function markAsKnown() {
            masteredCards.add(filteredCards[currentIndex].english);
            studiedCards.add(filteredCards[currentIndex].english);
            saveProgress();
            updateStats();
            nextCard();
            checkAchievements();
        }
        
        // Mark card for review
        function markForReview() {
            reviewCards.add(filteredCards[currentIndex].english);
            saveProgress();
            nextCard();
        }
        
        // Shuffle cards
        function shuffle() {
            for (let i = filteredCards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [filteredCards[i], filteredCards[j]] = [filteredCards[j], filteredCards[i]];
            }
            currentIndex = 0;
            displayCard();
        }
        
        // Update statistics
        function updateStats() {
            document.getElementById('totalCards').textContent = filteredCards.length;
            document.getElementById('currentCard').textContent = currentIndex + 1;
            document.getElementById('studiedCards').textContent = studiedCards.size;
            document.getElementById('masteredCards').textContent = masteredCards.size;
            
            // Update progress bar
            const progress = (studiedCards.size / flashcards.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }
        
        // Play audio (Text-to-Speech)
        function playAudio(event) {
            event.stopPropagation();
            const card = filteredCards[currentIndex];
            const text = isFlipped ? card.japanese : card.english;
            const lang = isFlipped ? 'ja-JP' : 'en-US';
            
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = lang;
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
            } else {
                alert('Speech synthesis not supported in this browser');
            }
        }
        
        // Save progress to localStorage
        function saveProgress() {
            const progress = {
                studiedCards: Array.from(studiedCards),
                masteredCards: Array.from(masteredCards),
                reviewCards: Array.from(reviewCards)
            };
            localStorage.setItem('flashcardProgress', JSON.stringify(progress));
        }
        
        // Load progress from localStorage
        function loadProgress() {
            const saved = localStorage.getItem('flashcardProgress');
            if (saved) {
                const progress = JSON.parse(saved);
                studiedCards = new Set(progress.studiedCards || []);
                masteredCards = new Set(progress.masteredCards || []);
                reviewCards = new Set(progress.reviewCards || []);
            }
        }
        
        // Reset progress
        function resetProgress() {
            if (confirm('Are you sure you want to reset all progress? / Êú¨ÂΩì„Å´ÈÄ≤Êçó„Çí„É™„Çª„ÉÉ„Éà„Åó„Åæ„Åô„ÅãÔºü')) {
                studiedCards.clear();
                masteredCards.clear();
                reviewCards.clear();
                localStorage.removeItem('flashcardProgress');
                updateStats();
                document.getElementById('achievements').innerHTML = '';
            }
        }
        
        // Export progress
        function exportProgress() {
            const progress = {
                studiedCards: Array.from(studiedCards),
                masteredCards: Array.from(masteredCards),
                reviewCards: Array.from(reviewCards),
                totalCards: flashcards.length,
                date: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(progress, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'flashcard_progress.json';
            a.click();
            URL.revokeObjectURL(url);
        }
        
        // Check achievements
        function checkAchievements() {
            const achievements = [];
            
            if (studiedCards.size >= 5) {
                achievements.push('üåü First Steps / Á¨¨‰∏ÄÊ≠©');
            }
            if (studiedCards.size >= 10) {
                achievements.push('üìö Dedicated Learner / ÁÜ±ÂøÉ„Å™Â≠¶ÁøíËÄÖ');
            }
            if (masteredCards.size >= 5) {
                achievements.push('üíé Master Beginner / ÂàùÁ¥ö„Éû„Çπ„Çø„Éº');
            }
            if (masteredCards.size >= 10) {
                achievements.push('üèÜ Vocabulary Champion / Ë™ûÂΩô„ÉÅ„É£„É≥„Éî„Ç™„É≥');
            }
            
            const achievementsDiv = document.getElementById('achievements');
            achievementsDiv.innerHTML = achievements.map(achievement => 
                `<div class="achievement">${achievement}</div>`
            ).join('');
        }
        
        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            switch(e.key) {
                case 'ArrowRight':
                case ' ':
                    nextCard();
                    break;
                case 'ArrowLeft':
                    previousCard();
                    break;
                case 'Enter':
                    flipCard();
                    break;
                case 'k':
                    markAsKnown();
                    break;
                case 'r':
                    markForReview();
                    break;
            }
        });
        
        // Initialize
        filteredCards = flashcards;
        updateStats();
        displayCard();
    </script>
</body>
</html>
